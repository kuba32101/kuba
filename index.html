<!DOCTYPE html>
<html lang="pl">
<head>
	<meta charset="UTF-8">
	<title>Czat klasowy</title>
	<style>
		input::placeholder {
			color: black;
			font-style: italic; /* ⬅️ placeholder pochylony */
		}
		.inp {
			border-radius:3px;
			border: solid black 2px;
			background: #3094ff;
		}
		.but {
			border-radius:3px;
			border: solid black 2px;
			background: #3094ff;
			cursor: pointer;
		}
		.kan {
			color: #515251;
		}
		body {
    			text-align: center;
    			font-family: sans-serif;
    			margin: 0;
    			display: flex;
    
    			background-image: url("https://www.jerzy-binkowski.com.pl/wp-content/uploads/papierz-jan-pawel-ii.jpg");    	 					background-size: cover;
    			background-repeat: no-repeat;
    			background-attachment: fixed;
}
		#sidebar {
			width: 200px;
			background: #999999;
			color: white;
			height: 100vh;
			padding: 10px;
			border: solid black 4px;
		}
		#sidebar ul {
			list-style-type: none;
			padding: 0;
		}
		#sidebar li:hover {
			background: #8f8f8f;
			cursor: pointer;
		}
		#chat {
			flex-grow: 1;
			padding: 20px;
		}
	</style>
	<script>
		let currentChannel = "czat";

		let channelMessages = {
			zasady: [],
			ogloszenia: [],
			info: [],
			czat: [],
			flex: []
		};

		function joinChannel(channel) {
			currentChannel = channel;
			document.getElementById("current").textContent = "Kanał: " + channel;
			document.getElementById("messages").innerHTML ="";
			const messagesList = document.getElementById("messages");
			messagesList.innerHTML = "";
			channelMessages[channel].forEach(msg => {
			const li = document.createElement("li");
			li.textContent = msg;
			messagesList.appendChild(li)
			});
		}
		function sendMessage() {
			const input = document.getElementById("msg");
			const msg = input.value;
			if (msg.trim() === "") return;
			const fullMsg = "[" + currentChannel + "] " + msg;
			channelMessages[currentChannel].push(fullMsg);
			const li = document.createElement("li");
			li.textContent = fullMsg;
			document.getElementById("messages").appendChild(li);
			input.value = "";
		}
		window.onload = function() {
			joinChannel("czat");
			document.getElementById("msg").focus(); // od razu kursor w polu tekstowym ✨
			document.getElementById("msg").addEventListener("keyup", function(event) {
			if (event.key === "Enter") {
			sendMessage();
	}
});
		};
	</script>
</head>
<body>
	<div id="sidebar">
		<h3 style="color:black">Kanały</h3>
		<ul>
			<li class="kan" onclick="joinChannel('zasady')">Zasady</li>
			<li class="kan" onclick="joinChannel('ogloszenia')">Ogłoszenia</li>
			<li class="kan" onclick="joinChannel('info')">Info</li>
			<li class="kan" onclick="joinChannel('czat')">Czat</li>
			<li class="kan" onclick="joinChannel('flex')">Flex</li>
		</ul>
	</div>
	<div id="chat">
		<h3 id="current">Kanał: </h3>
		<ul id="messages"></ul>
		<input class="inp" id="msg" placeholder="Wpisz wiadomość...">
		<button class="but" onclick="sendMessage()">Wyślij</button>
	</div>
</body>
</html>